<!DOCTYPE html>
<html>
<%- include("partials/head") %>

  <body>
    <%- include("partials/nav") %>
<div class="container">
  <h2>Dashboard</h2>

  <!-- Table to display projects -->
  <table class="table table-bordered">
    <thead>
      <tr>
        <th>Name</th>
        <th>Image</th>
        <th>Live Link</th>
        <th>Description</th>
        <th>GitHub Link</th>
        <th>Display</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <% projects.forEach((project)=> { %>
        <tr>
          <td>
            <%= project.name %>
          </td>
          <td>
            <%= project.img %>
          </td>
          <td>
            <%= project.liveLink %>
          </td>
          <td>
            <%= project.description %>
          </td>
          <td>
            <%= project.githubLink %>
          </td>
          <td>
            <%= project.display %>
          </td>
          <td>
            <a href="/projects/<%= project._id %>/edit" class="btn btn-primary"><i class="fa-regular fa-pen-to-square"></i></a>
            <form action="/projects/<%= project._id %>?_method=DELETE" method="POST" style="display: inline;">
              <button type="submit" class="btn btn-danger"><i class="fa-regular fa-trash-can"></i></button>
            </form>
          </td>
        </tr>
        <% }) %>
    </tbody>
  </table>

  <!-- Form to add a new project -->
  <h3>Add New Project</h3>
  <form action="/projects" method="POST">
    <div class="form-group">
      <label for="name">Name:</label>
      <input type="text" name="name" class="form-control" required>
    </div>
    <div class="form-group">
      <label for="img">Image:</label>
      <input type="text" name="img" class="form-control">
    </div>
    <div class="form-group">
      <label for="liveLink">Live Link:</label>
      <input type="text" name="liveLink" class="form-control">
    </div>
    <div class="form-group">
      <label for="description">Description:</label>
      <input type="text" name="description" class="form-control">
    </div>
    <div class="form-group">
      <label for="githubLink">GitHub Link:</label>
      <input type="text" name="githubLink" class="form-control">
    </div>
    <div class="form-group">
      <label for="display">Display:</label>
      <input type="checkbox" name="display" value="true" class="form-check-input">
    </div>
    <button type="submit" class="btn btn-primary">Add Project</button>
  </form>
</div>
  </body>

</html>